# server-Optimizer
اسکریپت بهینه‌ساز سرور (Universal VPN/Tunnel Optimizer)
این اسکریپت یک ابزار تعاملی برای بهینه‌سازی پارامترهای هسته لینوکس (sysctl) است که به طور خاص برای افزایش عملکرد و پایداری سرورهایی که به عنوان گیت‌وی VPN یا تونل استفاده می‌شوند، طراحی شده است. اسکریپت به شما اجازه می‌دهد بین دو پروفایل بهینه‌سازی مجزا، یکی برای ترافیک مبتنی بر TCP و دیگری برای ترافیک مبتنی بر UDP، انتخاب کنید.

✨ ویژگی‌ها
تعاملی و ساده: با یک منوی ساده، پروفایل مورد نظر خود را انتخاب می‌کنید.

دو پروفایل تخصصی:

پروفایل TCP: بهترین عملکرد برای پروتکل‌هایی مانند VLESS, Trojan, Shadowsocks و پراکسی‌های مبتنی بر TCP.

پروفایل UDP: بهترین عملکرد برای سرویس‌های حساس به پینگ مانند گیم سرورها، WireGuard و تونل‌های مبتنی بر UDP.

بهینه‌سازی تهاجمی: با فرض اینکه منابع سرور کافی است، تنظیمات به صورت تهاجمی برای رسیدن به حداکثر سرعت و پایداری اعمال می‌شوند.

فعال‌سازی BBR: الگوریتم کنترل ازدحام شبکه گوگل (BBR) را به عنوان پیش‌فرض تنظیم می‌کند که برای لینک‌های با تاخیر بالا و پهنای باند زیاد ایده‌آل است.

ایجاد بکاپ خودکار: قبل از اعمال هرگونه تغییر، یک نسخه پشتیبان از فایل sysctl.conf فعلی شما با تاریخ همان روز ایجاد می‌کند.

🚀 نحوه استفاده
استفاده از این اسکریپت بسیار آسان است. کافیست دستور زیر را کپی کرده و در ترمینال سرور خود با دسترسی root یا sudo اجرا کنید.

bash <(curl -sSL https://raw.githubusercontent.com/alisamani1378/server-Optimizer/refs/heads/main/optimize.sh)

پس از اجرا، اسکریپت از شما می‌پرسد که کدام پروفایل را می‌خواهید اعمال کنید:

=================================================
     Universal VPN/Tunnel Optimizer Script
=================================================

Please select the optimization profile for your server:
  1) TCP Profile (Best for VLESS, Trojan, Shadowsocks, etc.)
  2) UDP Profile (Best for Gaming, WireGuard, UDP-based Tunnels)

Enter your choice [1 or 2]:

عدد پروفایل مورد نظر خود (۱ یا ۲) را وارد کرده و Enter را بزنید. بقیه کارها به صورت خودکار انجام می‌شود.

⚙️ پروفایل‌های بهینه‌سازی
۱. پروفایل TCP
این پروفایل با افزایش چشمگیر بافرهای TCP (tcp_rmem, tcp_wmem) و فعال‌سازی قابلیت‌هایی مانند TCP Fast Open، بر روی بهینه‌سازی حداکثری اتصالات TCP تمرکز دارد. این گزینه بهترین انتخاب برای سرویس‌هایی است که حجم زیادی از داده را بر بستر TCP منتقل می‌کنند.

موارد استفاده:

پراکسی‌های VLESS, V2Ray, Trojan, Shadowsocks

تونل‌های مبتنی بر WebSocket (WSS)

سرورهای دانلود/آپلود

۲. پروفایل UDP
این پروفایل با افزایش بافرهای عمومی و به خصوص بافرهای UDP (udp_mem)، بر روی کاهش Packet Loss و مدیریت بهینه تعداد زیادی بسته کوچک UDP تمرکز دارد.

موارد استفاده:

گیم سرورها

سرویس‌های استریم زنده

تونل‌های WireGuard, OpenVPN (UDP), GRE, VXLAN

⚠️ نکات مهم
دسترسی Root: این اسکریپت باید حتماً با دسترسی root یا sudo اجرا شود.

بکاپ: یک نسخه پشتیبان از تنظیمات قبلی شما در مسیر /etc/ با نام sysctl.conf.bak.YYYY-MM-DD ذخیره می‌شود.

ریبوت: برای اطمینان از اعمال کامل تمام تغییرات، به خصوص فعال شدن الگوریتم BBR، اکیداً توصیه می‌شود که پس از اتمام کار اسکریپت، یک بار سرور خود را ریبوت کنید.

📄 سلب مسئولیت
این اسکریپت تنظیمات سطح پایین و حساس هسته لینوکس را تغییر می‌دهد. با وجود اینکه این تنظیمات بر اساس بهترین شیوه‌ها و به صورت گسترده تست شده‌اند، همیشه ریسک‌های احتمالی وجود دارد. لطفاً با آگاهی کامل از کاری که انجام می‌دهید از این اسکریپت استفاده کنید. نویسنده هیچ مسئولیتی در قبال مشکلات احتمالی بر عهده نمی‌گیرد.
